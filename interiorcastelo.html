<!DOCTYPE html>
<html>
  <head>
    <title>Virtual Tour 360</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
    <script src="https://unpkg.com/aframe-webcentric-component@0.1.0/dist/aframe-webcentric-component.min.js"></script>
    <script src="../js/livecode.js"></script>
  </head>
  <body>
    <!--webcentric stats -->
    <a-scene webcentric>
      <a-assets>
        <!--imagems dos paineis informativo -->
        <img
          id="infopanel"
          crossorign="anonymous"
          src="https://cdn.glitch.global/b02fbfc7-b070-4884-8bb2-0a87c8dfbcb6/infopanel-down.png?v=1696515890159"
        />
        <img
          id="infopanel-igreja"
          crossorigin="anonymous"
          src="https://cdn.glitch.global/b02fbfc7-b070-4884-8bb2-0a87c8dfbcb6/infopanel-igreja.png?v=1696526238224"
        />
        <!--imagem cenários 360 -->
        <img
          id="castelo"
          crossorigin="anonymous"
          src="https://cdn.glitch.global/b02fbfc7-b070-4884-8bb2-0a87c8dfbcb6/castelo360.jpg?v=1696430977077"
        />
        <img
          id="interiorcastelo"
          crossorigin="anonymous"
          src="https://cdn.glitch.global/b02fbfc7-b070-4884-8bb2-0a87c8dfbcb6/interiorcastelo360.jpg?v=1696430966073"
        />
      </a-assets>

      <a-sky src="#interiorcastelo"></a-sky>

      <!-- Para funcionar o look-at e billboard em relação á imagem a câmera é primeiro-->
      <a-entity id="cameraRig">
        <a-camera
          id="camera"
          position="0 1.6 0"
          wasd-controls-enabled="false"
          mouse-wheel-zoom
          ><a-cursor></a-cursor
        ></a-camera>
      </a-entity>

      <!-- Portal do inicio -->
      <a-link
        position="-6 1.6 -4.1"
        link="visualAspectEnabled:false"
        href="castelo.html"
        title="Sair do castelo"
        ><a-sphere src="#castelo"></a-sphere>
      </a-link>
      <a-text
        position="-6 0.50 -4.1"
        rotation="0 50 0"
        value="Sair do Castelo"
        color="black"
        align="center"
        side="double"
      ></a-text>

      <!-- Paineis de informação dos cenários -->
      <!-- adicionar a imagem que deve ser perpendicular à câmera com billboard -->
      <a-entity
        class="infopanel-1"
        position="0 2 2.8"
        look-at="[camera]"
        billboard
        mouse-wheel-zoom
        visible=""
        rotation="0 90 0"
        scale="2.3 2.3 2.3"
        ><a-image
          src="#infopanel-igreja"
          height="1"
          width="1"
          material=""
          geometry=""
          visible=""
        ></a-image>
        <a-text
          class="title"
          font="https://raw.githubusercontent.com/jorgecardoso/aframe-course-resources/master/fonts/montserrat-bold.fnt"
          position="0.07 0.44 0.001"
          width="1"
          value="Igreja da Alcáçova"
          align="left"
          color="#00000f"
          anchor="center"
          baseline="top"
          height="0.02"
          wrap-count="20"
          text=""
          visible=""
        ></a-text>
        <a-image
          src="#infopanel"
          position="1.2 0 -0.15"
          height="1"
          width="1.2"
          material=""
          geometry=""
          visible=""
        ></a-image>
        <a-text
          class="description"
          baseline="top"
          width="0.9"
          font="https://raw.githubusercontent.com/jorgecardoso/aframe-course-resources/master/fonts/montserrat.fnt"
          position="0.68 0.4 0.006"
          value="Localizada próximo do muro interior do castelo, para a parte sul. É de invocação a Nossa Senhora da Assunção.n\Foi mandada edificar em 1090, pelo Presbítero Vermudo, por ordem do Conde D. Sesnando. Foi reedificada definitivamente no primeiro quartel do século XVI, obra atribuída ao arquitecto Francisco Pires, sob a ordem do bispo-conde D. Jorge de Almeida. Composição estrutural simples, com três naves de cinco tramos e três capelas absidais. Nave central levantada, sem janelas acima das arcadas. Cabeceira de composição complexa: arcos abertos entre as capelas laterais e a mor, em plano, dão a aparência de um transepto."
          align="left"
          color="black"
        >
        </a-text>
      </a-entity>
    </a-scene>
    <div
      class="glitchButton"
      style="position: fixed; top: 20px; right: 20px"
    ></div>
    <script src="https://button.glitch.me/button.js"></script>
  </body>
</html>
