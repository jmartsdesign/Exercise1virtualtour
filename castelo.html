<!DOCTYPE html>
<html>
  <head>
    <title>Virtual Tour 360</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
    <script src="https://unpkg.com/aframe-webcentric-component/dist/aframe-webcentric-component.min.js"></script>
    <script src="../js/livecode.js"></script>
  </head>
  <body>
    <!--webcentric stats -->
    <a-scene webcentric>
      <a-assets>
        <!--imagems dos paineis informativo -->
        <img
          id="infopanel"
          crossorign="anonymous"
          src="https://cdn.glitch.global/b02fbfc7-b070-4884-8bb2-0a87c8dfbcb6/infopanel-down.png?v=1696515890159"
        />
        <img
          id="infopanel-castelo"
          crossorigin="anonymous"
          src="https://cdn.glitch.global/b02fbfc7-b070-4884-8bb2-0a87c8dfbcb6/infopanel-castelo.png?v=1696526235582"
        />
        <!--imagem cenários 360 -->
        <img
          id="inicio"
          crossorigin="anonymous"
          src="https://cdn.glitch.global/b02fbfc7-b070-4884-8bb2-0a87c8dfbcb6/menu0360.jpg?v=1696438220769"
        />
        <img
          id="castelo"
          crossorigin="anonymous"
          src="https://cdn.glitch.global/b02fbfc7-b070-4884-8bb2-0a87c8dfbcb6/castelo360.jpg?v=1696430977077"
        />
        <img
          id="interiorcastelo"
          crossorigin="anonymous"
          src="https://cdn.glitch.global/b02fbfc7-b070-4884-8bb2-0a87c8dfbcb6/interiorcastelo360.jpg?v=1696430966073"
        />
      </a-assets>

      <a-sky src="#castelo"></a-sky>

      <!-- Para funcionar o look-at e billboard em relação á imagem a câmera é primeiro-->
      <a-entity id="cameraRig">
        <a-camera
          id="camera"
          position="0 1.6 0"
          wasd-controls-enabled="false"
          mouse-wheel-zoom
          ><a-cursor></a-cursor
        ></a-camera>
      </a-entity>

      <!-- Portal do inicio -->
      <a-link
        position="-6.1 1.6 1.4"
        link="visualAspectEnabled:false"
        href="index.html"
        title="Visitar castelo"
        ><a-sphere src="#inicio"></a-sphere>
      </a-link>
      <a-text
        position="-6.1 0.50 1.4"
        rotation="0 95 0"
        value="Rotunda Tribunal"
        color="black"
        align="center"
        side="double"
      ></a-text>

      <!-- Portal interior castelo -->
      <a-link
        position="-1.1 1.6 6"
        link="visualAspectEnabled:false"
        href="interiorcastelo.html"
        title="Visitar castelo"
        ><a-sphere src="#interiorcastelo"></a-sphere>
      </a-link>
      <a-text
        position="-1.15 0.50 6"
        rotation="0 180 0"
        value="Interior do Castelo"
        color="black"
        align="center"
        side="double"
      ></a-text>

      <!-- Paineis de informação dos cenários -->
      <!-- adicionar a imagem que deve ser perpendicular à câmera com billboard -->
      <a-entity
        class="infopanel-1"
        position="2 2 -1.0"
        look-at="[camera]"
        billboard
        mouse-wheel-zoom
        visible=""
        rotation="0 90 0"
        scale="2.3 2.3 2.3"
        ><a-image
          src="#infopanel-castelo"
          height="1"
          width="1"
          material=""
          geometry=""
          visible=""
        ></a-image>
        <a-text
          class="title"
          font="https://raw.githubusercontent.com/jorgecardoso/aframe-course-resources/master/fonts/montserrat-bold.fnt"
          position="0.07 0.44 0.001"
          width="1"
          value="Castelo de Montemor"
          align="left"
          color="#00000f"
          anchor="center"
          baseline="top"
          height="0.02"
          wrap-count="20"
          text=""
          visible=""
        ></a-text>
        <a-image
          src="#infopanel"
          position="1.2 0 -0.15"
          height="1"
          width="1.2"
          material=""
          geometry=""
          visible=""
        ></a-image>
        <a-text
          class="description"
          baseline="top"
          width="0.9"
          font="https://raw.githubusercontent.com/jorgecardoso/aframe-course-resources/master/fonts/montserrat.fnt"
          position="0.6 0.3 0"
          value="Em 990, Almançor tomou o Castelo, reconquistado, em 1006, por Mendo Luz. Em 1088 ou 1095, foi reedificado por Afonso VI de Castela. Em 1109, D. Teresa e seu filho, D. Afonso Henriques, teriam ordenando novas reformas no Castelo.\nO Infante D. Pedro mandou-o ampliar. No século XIV, o Castelo deve ter tido uma reforma geral. No séc. XX, realizaram-se obras de reconstrução.Classificado como Monumento Nacional desde 1910."
          align="left"
          color="black"
        >
        </a-text>
      </a-entity>
    </a-scene>
    <div
      class="glitchButton"
      style="position: fixed; top: 20px; right: 20px"
    ></div>
    <script src="https://button.glitch.me/button.js"></script>
  </body>
</html>
